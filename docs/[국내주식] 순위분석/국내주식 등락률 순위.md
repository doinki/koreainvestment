# [국내주식 등락률 순위[v1\_국내주식-088]](https://apiportal.koreainvestment.com/apiservice-apiservice?/uapi/domestic-stock/v1/ranking/fluctuation)

- Type: REST
- Method: GET
- URL: /uapi/domestic-stock/v1/ranking/fluctuation
- 실전 DOMAIN: https://openapi.koreainvestment.com:9443
- 모의 DOMAIN: 모의투자 미지원
- 실전 TR ID: FHPST01700000
- 모의 TR ID: 모의투자 미지원

## 개요

국내주식 등락률 순위 API입니다.
한국투자 HTS(eFriend Plus) &gt; [0170] 등락률 순위 화면의 기능을 API로 개발한 사항으로, 해당 화면을 참고하시면 기능을 이해하기 쉽습니다.
최대 30건 확인 가능하며, 다음 조회가 불가합니다.

※ 30건 이상의 목록 조회가 필요한 경우, 대안으로 종목조건검색 API를 이용해서 원하는 종목 100개까지 검색할 수 있는 기능을 제공하고 있습니다.
종목조건검색 API는 HTS(efriend Plus) [0110] 조건검색에서 등록 및 서버저장한 나의 조건 목록을 확인할 수 있는 API로,
자세한 사용 방법은 공지사항 - [조건검색 필독] 조건검색 API 이용안내 참고 부탁드립니다.

## 요청

### Header

| Element        | 한글명            | Type   | Required | Length | Description                                                                                                                                                                                                                                            |
| -------------- | ----------------- | ------ | -------- | ------ | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| content-type   | 컨텐츠타입        | String | Y        | 40     | application/json; charset=utf-8                                                                                                                                                                                                                        |
| authorization  | 접근토큰          | String | Y        | 350    | OAuth 토큰이 필요한 API 경우 발급한 Access token 일반고객(Access token 유효기간 1일, OAuth 2.0의 Client Credentials Grant 절차를 준용) 법인(Access token 유효기간 3개월, Refresh token 유효기간 1년, OAuth 2.0의 Authorization Code Grant 절차를 준용) |
| appkey         | 앱키              | String | Y        | 36     | 한국투자증권 홈페이지에서 발급받은 appkey (절대 노출되지 않도록 주의해주세요.)                                                                                                                                                                         |
| appsecret      | 앱시크릿키        | String | Y        | 180    | 한국투자증권 홈페이지에서 발급받은 appkey (절대 노출되지 않도록 주의해주세요.)                                                                                                                                                                         |
| personalseckey | 고객식별키        | String | N        | 180    | [법인 필수] 제휴사 회원 관리를 위한 고객식별키                                                                                                                                                                                                         |
| tr_id          | 거래ID            | String | Y        | 13     | FHPST01700000                                                                                                                                                                                                                                          |
| tr_cont        | 연속 거래 여부    | String | N        | 1      | tr_cont를 이용한 다음조회 불가 API                                                                                                                                                                                                                     |
| custtype       | 고객 타입         | String | Y        | 1      | B : 법인 P : 개인                                                                                                                                                                                                                                      |
| seq_no         | 일련번호          | String | N        | 2      | [법인 필수] 001                                                                                                                                                                                                                                        |
| mac_address    | 맥주소            | String | N        | 12     | 법인고객 혹은 개인고객의 Mac address 값                                                                                                                                                                                                                |
| phone_number   | 핸드폰번호        | String | N        | 12     | [법인 필수] 제휴사APP을 사용하는 경우 사용자(회원) 핸드폰번호 ex) 01011112222 (하이픈 등 구분값 제거)                                                                                                                                                  |
| ip_addr        | 접속 단말 공인 IP | String | N        | 12     | [법인 필수] 사용자(회원)의 IP Address                                                                                                                                                                                                                  |
| gt_uid         | Global UID        | String | N        | 32     | [법인 전용] 거래고유번호로 사용하므로 거래별로 UNIQUE해야 함                                                                                                                                                                                           |

### Body

| Element                | 한글명              | Type   | Required | Length | Description                                                                                                                                                                |
| ---------------------- | ------------------- | ------ | -------- | ------ | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| fid_rsfl_rate2         | 등락 비율2          | String | Y        | 132    | 공백 입력 시 전체 (~ 비율                                                                                                                                                  |
| fid_cond_mrkt_div_code | 조건 시장 분류 코드 | String | Y        | 2      | 시장구분코드 (J:KRX, NX:NXT)                                                                                                                                               |
| fid_cond_scr_div_code  | 조건 화면 분류 코드 | String | Y        | 5      | Unique key( 20170 )                                                                                                                                                        |
| fid_input_iscd         | 입력 종목코드       | String | Y        | 12     | 0000(전체) 코스피(0001), 코스닥(1001), 코스피200(2001)                                                                                                                     |
| fid_rank_sort_cls_code | 순위 정렬 구분 코드 | String | Y        | 2      | 0:상승율순 1:하락율순 2:시가대비상승율 3:시가대비하락율 4:변동율                                                                                                           |
| fid_input_cnt_1        | 입력 수1            | String | Y        | 12     | 0:전체 , 누적일수 입력                                                                                                                                                     |
| fid_prc_cls_code       | 가격 구분 코드      | String | Y        | 2      | 'fid_rank_sort_cls_code :0 상승율 순일때 (0:저가대비, 1:종가대비) fid_rank_sort_cls_code :1 하락율 순일때 (0:고가대비, 1:종가대비) fid_rank_sort_cls_code : 기타 (0:전체)' |
| fid_input_price_1      | 입력 가격1          | String | Y        | 12     | 공백 입력 시 전체 (가격 ~)                                                                                                                                                 |
| fid_input_price_2      | 입력 가격2          | String | Y        | 12     | 공백 입력 시 전체 (~ 가격)                                                                                                                                                 |
| fid_vol_cnt            | 거래량 수           | String | Y        | 12     | 공백 입력 시 전체 (거래량 ~)                                                                                                                                               |
| fid_trgt_cls_code      | 대상 구분 코드      | String | Y        | 32     | 0:전체                                                                                                                                                                     |
| fid_trgt_exls_cls_code | 대상 제외 구분 코드 | String | Y        | 32     | 0:전체                                                                                                                                                                     |
| fid_div_cls_code       | 분류 구분 코드      | String | Y        | 2      | 0:전체                                                                                                                                                                     |
| fid_rsfl_rate1         | 등락 비율1          | String | Y        | 132    | 공백 입력 시 전체 (비율 ~)                                                                                                                                                 |

## 응답

### Header

| Element      | 한글명         | Type   | Required | Length | Description                                                  |
| ------------ | -------------- | ------ | -------- | ------ | ------------------------------------------------------------ |
| content-type | 컨텐츠타입     | String | Y        | 40     | application/json; charset=utf-8                              |
| tr_id        | 거래ID         | String | Y        | 13     | 요청한 tr_id                                                 |
| tr_cont      | 연속 거래 여부 | String | N        | 1      | tr_cont를 이용한 다음조회 불가 API                           |
| gt_uid       | Global UID     | String | N        | 32     | [법인 전용] 거래고유번호로 사용하므로 거래별로 UNIQUE해야 함 |

### Body

| Element                              | 한글명                        | Type         | Required | Length | Description |
| ------------------------------------ | ----------------------------- | ------------ | -------- | ------ | ----------- |
| rt_cd                                | 성공 실패 여부                | String       | Y        | 1      |             |
| msg_cd                               | 응답코드                      | String       | Y        | 8      |             |
| msg1                                 | 응답메세지                    | String       | Y        | 80     |             |
| output                               | 응답상세                      | Object Array | Y        |        | array       |
| output.stck_shrn_iscd                | 주식 단축 종목코드            | String       | Y        | 9      |             |
| output.data_rank                     | 데이터 순위                   | String       | Y        | 10     |             |
| output.hts_kor_isnm                  | HTS 한글 종목명               | String       | Y        | 40     |             |
| output.stck_prpr                     | 주식 현재가                   | String       | Y        | 10     |             |
| output.prdy_vrss                     | 전일 대비                     | String       | Y        | 10     |             |
| output.prdy_vrss_sign                | 전일 대비 부호                | String       | Y        | 1      |             |
| output.prdy_ctrt                     | 전일 대비율                   | String       | Y        | 82     |             |
| output.acml_vol                      | 누적 거래량                   | String       | Y        | 18     |             |
| output.stck_hgpr                     | 주식 최고가                   | String       | Y        | 10     |             |
| output.hgpr_hour                     | 최고가 시간                   | String       | Y        | 6      |             |
| output.acml_hgpr_date                | 누적 최고가 일자              | String       | Y        | 8      |             |
| output.stck_lwpr                     | 주식 최저가                   | String       | Y        | 10     |             |
| output.lwpr_hour                     | 최저가 시간                   | String       | Y        | 6      |             |
| output.acml_lwpr_date                | 누적 최저가 일자              | String       | Y        | 8      |             |
| output.lwpr_vrss_prpr_rate           | 최저가 대비 현재가 비율       | String       | Y        | 84     |             |
| output.dsgt_date_clpr_vrss_prpr_rate | 지정 일자 종가 대비 현재가 비 | String       | Y        | 84     |             |
| output.cnnt_ascn_dynu                | 연속 상승 일수                | String       | Y        | 5      |             |
| output.hgpr_vrss_prpr_rate           | 최고가 대비 현재가 비율       | String       | Y        | 84     |             |
| output.cnnt_down_dynu                | 연속 하락 일수                | String       | Y        | 5      |             |
| output.oprc_vrss_prpr_sign           | 시가2 대비 현재가 부호        | String       | Y        | 1      |             |
| output.oprc_vrss_prpr                | 시가2 대비 현재가             | String       | Y        | 10     |             |
| output.oprc_vrss_prpr_rate           | 시가2 대비 현재가 비율        | String       | Y        | 84     |             |
| output.prd_rsfl                      | 기간 등락                     | String       | Y        | 10     |             |
| output.prd_rsfl_rate                 | 기간 등락 비율                | String       | Y        | 84     |             |
