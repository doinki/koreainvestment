# [해외주식 지정가체결내역조회 [해외주식-070]](https://apiportal.koreainvestment.com/apiservice-apiservice?/uapi/overseas-stock/v1/trading/inquire-algo-ccnl)

- Type: REST
- Method: GET
- URL: /uapi/overseas-stock/v1/trading/inquire-algo-ccnl
- 실전 DOMAIN: https://openapi.koreainvestment.com:9443
- 모의 DOMAIN: 미지원
- 실전 TR ID: TTTS6059R
- 모의 TR ID: 모의투자 미지원

## 개요

해외주식 TWAP, VWAP 주문에 대한 체결내역 조회 API로 지정가 주문번호조회 API를 수행 후 조회해야합니다

## 요청

### Header

| Element        | 한글명       | Type   | Required | Length | Description                                                                                                                                                                                                                                            |
| -------------- | ------------ | ------ | -------- | ------ | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| content-type   | 컨텐츠타입   | String | N        | 40     | application/json; charset=utf-8                                                                                                                                                                                                                        |
| authorization  | 접근토큰     | String | Y        | 350    | OAuth 토큰이 필요한 API 경우 발급한 Access token 일반고객(Access token 유효기간 1일, OAuth 2.0의 Client Credentials Grant 절차를 준용) 법인(Access token 유효기간 3개월, Refresh token 유효기간 1년, Oauth 2.0의 Authorization Code Grant 절차를 준용) |
| appkey         | 앱키         | String | Y        | 36     | 한국투자증권 홈페이지에서 발급받은 appkey (절대 노출되지 않도록 주의해주세요.)                                                                                                                                                                         |
| appsecret      | 앱시크릿키   | String | Y        | 180    | 한국투자증권 홈페이지에서 발급받은 appsecret (절대 노출되지 않도록 주의해주세요.)                                                                                                                                                                      |
| personalseckey | 고객식별키   | String | N        | 180    | [법인 필수] 제휴사 회원 관리를 위한 고객식별키                                                                                                                                                                                                         |
| tr_id          | 거래ID       | String | Y        | 13     | TTS6059R                                                                                                                                                                                                                                               |
| tr_cont        | 연속거래여부 | String | N        | 1      | 공백 : 초기 조회 N : 다음 데이터 조회 (output header의 tr_cont가 M일 경우)                                                                                                                                                                             |
| custtype       | 고객타입     | String | Y        | 1      | P : 개인 / B : 법인                                                                                                                                                                                                                                    |
| seq_no         | 일련번호     | String | N        | 3      | 법인 필수 : 001                                                                                                                                                                                                                                        |
| phone_number   | 핸드폰번호   | String | N        | 12     | [법인 필수] 제휴사APP을 사용하는 경우 사용자(회원) 핸드폰번호 ex) 01011112222 (하이픈 등 구분값 제거)                                                                                                                                                  |
| ip_addr        | IP주소       | String | N        | 12     | [법인 필수] 사용자(회원)의 IP Address                                                                                                                                                                                                                  |
| gt_uid         | Global UID   | String | N        | 32     | [법인 전용] 거래고유번호로 사용하므로 거래별로 UNIQUE해야 함                                                                                                                                                                                           |

### Body

| Element        | 한글명           | Type   | Required | Length | Description                                              |
| -------------- | ---------------- | ------ | -------- | ------ | -------------------------------------------------------- |
| CANO           | 계좌번호         | String | Y        | 8      | 종합계좌번호 8자리                                       |
| ACNT_PRDT_CD   | 계좌상품코드     | String | Y        | 2      | 상품코드 2자리 (주식계좌 : 01)                           |
| ORD_DT         | 주문일자         | String | Y        | 8      | 주문일자 (YYYYMMDD)                                      |
| ORD_GNO_BRNO   | 주문채번지점번호 | String | N        | 5      | TTS6058R 조회 시 해당 주문번호(odno)의 ord_gno_brno 입력 |
| ODNO           | 주문번호         | String | Y        | 10     | 지정가주문번호 (TTTS6058R)에서 조회된 주문번호 입력      |
| TTLZ_ICLD_YN   | 집계포함여부     | String | N        | 1      |                                                          |
| CTX_AREA_NK200 | 연속조회키200    | String | N        | 200    | 연속조회 시 사용                                         |
| CTX_AREA_FK200 | 연속조회조건200  | String | N        | 200    | 연속조회 시 사용                                         |

## 응답

### Header

| Element      | 한글명       | Type   | Required | Length | Description                                                  |
| ------------ | ------------ | ------ | -------- | ------ | ------------------------------------------------------------ |
| content-type | 컨텐츠타입   | String | Y        | 40     | application/json; charset=utf-8                              |
| tr_id        | 거래ID       | String | Y        | 13     | 거래ID                                                       |
| tr_cont      | 연속거래여부 | String | N        | 1      | F or M : 다음 데이터 있음 D or E : 마지막 데이터             |
| gt_uid       | Global UID   | String | N        | 32     | [법인 전용] 거래고유번호로 사용하므로 거래별로 UNIQUE해야 함 |

### Body

| Element                    | 한글명         | Type         | Required | Length | Description |
| -------------------------- | -------------- | ------------ | -------- | ------ | ----------- |
| rt_cd                      | 성공 실패여부  | String       | Y        | 1      |             |
| msg_cd                     | 응답코드       | String       | Y        | 8      |             |
| msg1                       | 응답메시지     | String       | Y        | 80     |             |
| output                     | 응답상세       | Object Array | Y        |        |             |
| output.CCLD_SEQ            | 체결순번       | String       | Y        | 4      |             |
| output.CCLD_BTWN           | 체결시간       | String       | Y        | 6      | HHMMSS      |
| output.PDNO                | 상품번호       | String       | Y        | 12     |             |
| output.ITEM_NAME           | 종목명         | String       | Y        | 60     |             |
| output.FT_CCLD_QTY         | FT체결수량     | String       | N        | 4      |             |
| output.FT_CCLD_UNPR3       | FT체결단가     | String       | Y        | 8      |             |
| output.FT_CCLD_AMT3        | FT체결금액     | String       | N        | 8      |             |
| output3                    | 응답상세3      | Object Array | Y        |        |             |
| output3.ODNO               | 주문번호       | String       | Y        | 10     |             |
| output3.TRAD_DVSN_NAME     | 매매구분명     | String       | Y        | 60     |             |
| output3.PDNO               | 상품번호       | String       | Y        | 12     |             |
| output3.ITEM_NAME          | 종목명         | String       | Y        | 60     |             |
| output3.FT_ORD_QTY         | FT주문수량     | String       | Y        | 4      |             |
| output3.FT_ORD_UNPR3       | FT주문단가     | String       | Y        | 8      |             |
| output3.ORD_TMD            | 주문시각       | String       | Y        | 6      |             |
| output3.SPLT_BUY_ATTR_NAME | 분할매수속성명 | String       | Y        | 60     |             |
| output3.FT_CCLD_QTY        | FT체결수량     | String       | Y        | 4      |             |
| output3.TR_CRCY            | 거래통화       | String       | Y        | 3      |             |
| output3.FT_CCLD_UNPR3      | FT체결단가     | String       | Y        | 8      |             |
| output3.FT_CCLD_AMT3       | FT체결금액     | String       | Y        | 8      |             |
| output3.CCLD_CNT           | 체결건수       | String       | Y        | 4      |             |
